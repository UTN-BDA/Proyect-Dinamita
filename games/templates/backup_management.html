{% extends "base.html" %}
{% block title %}Gestión de Backups{% endblock title %}
{% block content %}
    <h2>Gestión de Backups</h2>
    
    <div class="row mb-4">
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">Crear Nuevo Backup</h5>
                </div>
                <div class="card-body">
                    <p>Crea un backup personalizado seleccionando tablas específicas.</p>
                    <a href="{% url 'backup_db' %}" class="btn btn-warning">Crear Backup</a>
                </div>
            </div>
        </div>
        
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">Restaurar desde Backup</h5>
                </div>
                <div class="card-body">
                    <p>Restaura la base de datos desde un archivo de backup existente.</p>
                    <a href="{% url 'restore_db' %}" class="btn btn-danger">Restaurar</a>
                </div>
            </div>
        </div>
    </div>
    
    <div class="card">
        <div class="card-header">
            <h5 class="mb-0">Información sobre Backups</h5>
        </div>
        <div class="card-body">
            <h6>Características del Sistema de Backup:</h6>
            <ul>
                <li><strong>Backup Selectivo:</strong> Puedes elegir qué tablas incluir en el backup</li>
                <li><strong>Opciones de Contenido:</strong> Incluir solo estructura o estructura + datos</li>
                <li><strong>Nombres Personalizados:</strong> Asigna nombres específicos a tus backups</li>
                <li><strong>Metadatos:</strong> Cada backup incluye información sobre su creación</li>
                <li><strong>Restauración Segura:</strong> Opciones para limpiar tablas antes de restaurar</li>
            </ul>
            
            <h6 class="mt-4">Tablas Disponibles para Backup:</h6>
            <div class="row">
                {% for table in available_tables %}
                    <div class="col-md-4 col-lg-3 mb-2">
                        <span class="badge bg-secondary">{{ table.model_name }}</span>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
    
    <div class="mt-3">
        <a href="{% url 'home' %}" class="btn btn-secondary">Volver al Inicio</a>
    </div>
{% endblock content %}
